# ============================================================================
# EMAIL GENERATOR APP - ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and update the values for your setup
# All settings have sensible defaults - only change what you need

# Enable individual providers only when credentials are supplied
ENABLE_GOOGLE_OAUTH=false
ENABLE_GITHUB_OAUTH=false
ENABLE_MICROSOFT_OAUTH=false

# ============================================================================
# REQUIRED: Google Gemini API
# ============================================================================
GEMINI_API_KEY=your_gemini_api_key_here
GEMINI_MODEL=gemini-2.0-flash

# ============================================================================
# Application Settings
# ============================================================================
APP_NAME=AI Email Assistant
DEBUG=False
LOG_LEVEL=INFO
MAX_TOKENS=1000
TEMPERATURE=0.7

# Stub/Test Mode (set to true to avoid using Gemini API during development)
DONOTUSEGEMINI=false

# ============================================================================
# Observability & Monitoring (LangSmith)
# ============================================================================
ENABLE_LANGSMITH=false
LANGCHAIN_TRACING_V2=false
LANGCHAIN_PROJECT=email-generator
LANGSMITH_API_KEY=your_langsmith_api_key_here

# Cost Tracking & Rate Limiting
ENABLE_COST_TRACKING=false
ENABLE_RATE_LIMITER=false
REQUESTS_PER_MINUTE=30
TOKENS_PER_MINUTE=60000

# ============================================================================
# REDIS CACHE CONFIGURATION
# ============================================================================
ENABLE_REDIS=true
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_SSL=false

# Redis Connection Settings
REDIS_MAX_CONNECTIONS=20
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5
REDIS_RETRY_ON_TIMEOUT=true
REDIS_HEALTH_CHECK_INTERVAL=30

# Redis TTL Settings (in seconds)
REDIS_SESSION_TTL=86400      # 24 hours
REDIS_PROFILE_TTL=3600       # 1 hour
REDIS_DRAFT_TTL=7200         # 2 hours
REDIS_LLM_RESPONSE_TTL=1800  # 30 minutes
REDIS_RATE_LIMIT_TTL=60      # 1 minute

# ============================================================================
# CHROMADB VECTOR DATABASE CONFIGURATION
# ============================================================================
ENABLE_CHROMADB=true
CHROMADB_PERSIST_DIR=data/chromadb
CHROMADB_COLLECTION_NAME=email_contexts
CHROMADB_ALLOW_RESET=false
CHROMADB_ANONYMIZED_TELEMETRY=false

# ChromaDB Server Mode (set to true to use client/server mode, false for persistent local)
CHROMADB_USE_SERVER=false
CHROMADB_HOST=localhost
CHROMADB_PORT=8000

# ============================================================================
# MONGODB CONFIGURATION (Alternative to local storage)
# ============================================================================
# Use MongoDB instead of local JSON files for users, sessions, profiles, drafts
ENABLE_MONGODB=false
MONGODB_CONNECTION_STRING=mongodb+srv://username:password@cluster.mongodb.net/?retryWrites=true&w=majority
MONGODB_DATABASE=email_generator
MONGODB_USERS_COLLECTION=users
MONGODB_SESSIONS_COLLECTION=sessions
MONGODB_PROFILES_COLLECTION=user_profiles
MONGODB_DRAFTS_COLLECTION=drafts
MONGODB_CONTEXTS_COLLECTION=email_contexts

# ============================================================================
# GMAIL INTEGRATION CONFIGURATION
# ============================================================================
ENABLE_GMAIL=true
GMAIL_CREDENTIALS_FILE=config/gmail_credentials.json
GMAIL_TOKEN_FILE=data/gmail_token.pickle

# Gmail API Scopes (JSON array format)
GMAIL_SCOPES=["https://www.googleapis.com/auth/gmail.send", "https://www.googleapis.com/auth/gmail.modify", "https://www.googleapis.com/auth/gmail.readonly"]

# ============================================================================
# OAUTH PROVIDERS CONFIGURATION
# ============================================================================
ENABLE_OAUTH=true
OAUTH_CONFIG_FILE=config/oauth_config.json

# Google OAuth (Recommended for Gmail integration)
GOOGLE_CLIENT_ID=your_google_client_id_here
GOOGLE_CLIENT_SECRET=your_google_client_secret_here
GOOGLE_REDIRECT_URI=http://localhost:8501/oauth/callback
# JSON array format required for list fields
GOOGLE_OAUTH_SCOPES=["openid", "email", "profile", "https://www.googleapis.com/auth/gmail.send"]

# GitHub OAuth (Optional)
GITHUB_CLIENT_ID=your_github_client_id_here
GITHUB_CLIENT_SECRET=your_github_client_secret_here
GITHUB_REDIRECT_URI=http://localhost:8501/oauth/github/callback
# JSON array format
GITHUB_OAUTH_SCOPES=["user:email", "read:user"]

# Microsoft OAuth (Optional - for enterprise users)
MICROSOFT_CLIENT_ID=your_microsoft_client_id_here
MICROSOFT_CLIENT_SECRET=your_microsoft_client_secret_here
MICROSOFT_REDIRECT_URI=http://localhost:8501/oauth/microsoft/callback
MICROSOFT_TENANT=common
# JSON array format
MICROSOFT_OAUTH_SCOPES=["openid", "profile", "email", "https://graph.microsoft.com/Mail.Send"]

# ============================================================================
# MCP (MODEL CONTEXT PROTOCOL) CONFIGURATION
# ============================================================================
ENABLE_MCP=true
MCP_SERVER_NAME=email-generator-mcp-server
MCP_SERVER_VERSION=1.0.0
MCP_SERVER_DESCRIPTION=MCP server for AI-powered email generation

# ============================================================================
# AUTHENTICATION & SECURITY CONFIGURATION
# ============================================================================
ENABLE_AUTH=true
AUTH_USERS_FILE=data/users.json
AUTH_SESSIONS_FILE=data/sessions.json
AUTH_SESSION_TTL=86400  # 24 hours
AUTH_MAX_SESSIONS_PER_USER=5
AUTH_PASSWORD_MIN_LENGTH=8
AUTH_REQUIRE_EMAIL_VERIFICATION=false

# Security Settings
JWT_SECRET_KEY=your_jwt_secret_key_here_minimum_32_characters
# JSON array format required for list fields
CORS_ORIGINS=["http://localhost:8501", "http://127.0.0.1:8501", "http://localhost:5173", "http://localhost:3000"]
ALLOWED_HOSTS=["localhost", "127.0.0.1"]

# ============================================================================
# FEATURE TOGGLES (Disable components if needed)
# ============================================================================
DISABLE_REDIS=false
DISABLE_CHROMADB=false
DISABLE_MONGODB=false
DISABLE_GMAIL=false
DISABLE_OAUTH=false
DISABLE_MCP=false
DISABLE_AUTH=false

# ============================================================================
# PRODUCTION OVERRIDES (uncomment for production deployment)
# ============================================================================
# DEBUG=false
# LOG_LEVEL=WARNING
# REDIS_URL=redis://your-redis-server:6379
# CHROMADB_PERSIST_DIR=/app/data/chromadb
# GOOGLE_REDIRECT_URI=https://your-domain.com/oauth/callback
# CORS_ORIGINS=https://your-domain.com
# ALLOWED_HOSTS=your-domain.com
